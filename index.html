<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>客戶答錄機</title>
    <script>
      // You can also require other files to run in this process
      const aa = require('./renderer.js')
    </script>
    <script>
      window.$ = window.jQuery = require('./bower_components/jquery/dist/jquery.min.js');</script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/material-icons.css">
    <link rel="stylesheet" href="css/index.css">
  </head>
  <body>
    <!-- 第一階段：輸入 -->
    <section class="step-1">
      <header class="app-header">
        <h1 class="app-header__title">完美回覆</h1>
        <p class="app-header__desc">Hi，對客戶的問題感到吃驚、疑惑、不解嗎？<br>試試看完美回覆吧 :)</p>
      </header>
      <main class="input-area">
        <p class="inut-area__tip">請複製好客戶問題的文字。</p>
        <input id="getReplyBtn" class="btn btn-default  btn-action input-area__button" type="button" value="複製好了，幫助我回覆！">
      </main>
      <div class="stuff--top-left"></div>
      <div class="stuff--top-right"></div>
      <div class="stuff--bottom-left"></div>
      <div class="stuff--bottom-right"></div>
    </section>


    <!-- 第二階段：解析 -->
    <section class="step-2">
      <main class="input">
        <h2 class="input__title">來自您的客戶：</h2>
        <p class="input__tcontent">
          Hi Koch,<br>
          這不是很簡單嗎，為什麼要做這麼久？<br>
          Regards,<br>
          Mike
        </p>
        </main>
      <div class="processing-bar">進度：■■□□□</div>
    </section>


    <!-- 第三階段：輸出 -->
    <section class="step-3">
      <main class="output">
        <h2 class="output__title">專屬您的完美回覆：</h2>
        <div class="output__content">
          <h3>您好：</h3>
          <p>請問你是在大聲什麼啦</p>
          <h3>祝 新鮮的肝</h3>
        </div>
        <div class="output-actions">
          <button class="btn  btn-action btn-back"><i class="material-icons">keyboard_arrow_left</i>我有新的客戶問題</button>
          <button class="btn  btn-action btn-copy"><i class="material-icons">content_copy</i></button>
          <button class="btn  btn-action btn-share"><i class="material-icons">share</i></button>
        </div>
      </main>
    </section>

    <!-- Modal -->
    <div class="modal fade" id="validateModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="myModalLabel">Modal title</h4>
          </div>
          <div class="modal-body">
            ...
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>


    <!-- All of the Node.js APIs are available in this renderer process. -->
    We are using node <script>document.write(process.versions.node)</script>,
    Chromium <script>document.write(process.versions.chrome)</script>,
    and Electron <script>document.write(process.versions.electron)</script>.


    <!-- 取得答案之測試按鈕 -->
    <button onclick="aa.alertAnswer()">取得答案</button>

    <script>
      var ValidateService = require('./validateService.js')
      var ModalService = require('./modalService.js')
      var validateService = new ValidateService()
      var modalService = new ModalService('#validateModal')

      $('#getReplyBtn').on('click', onGetReply);

      function onGetReply (e) {
        validateService.validate()
        .done(
          function(data) {

          },
          function(error) {
            if (error.type == 'string_empty') {
              modalService.show('沒有複製內容')
            }

            if (error.type == 'string_too_long') {
              modalService.show('超出字數')
            }
          }
        );
      }
    </script>
  </body>
</html>
